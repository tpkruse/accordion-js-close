<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/accordion-js@3.1.1/dist/accordion.min.css">
  <title>Accordion - Example</title>
</head>
<body>

<div class="accordion-container">
  <div class="ac">
    <h2 class="ac-header">
      <button class="ac-trigger">Lorem ipsum dolor sit amet.</button>
    </h2>
    <div class="ac-panel">
      <p class="ac-text">Nulla et sodales nisl. Nam auctor quis odio eu congue. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    
      <div class="close-accordion" id="close-acc">Close This Accordion</div>
    </div>
  </div>
</div>

<div class="accordion-container">
  <div class="ac">
    <h2 class="ac-header">
      <button class="ac-trigger">Lorem ipsum dolor sit amet.</button>
    </h2>
    <div class="ac-panel">
      <p class="ac-text">Nulla et sodales nisl. Nam auctor quis odio eu congue. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    
      <div class="close-accordion" id="close-acc">Close This Accordion</div>
    </div>
  </div>
</div>

<div class="accordion-container">
  <div class="ac">
    <h2 class="ac-header">
      <button class="ac-trigger">Lorem ipsum dolor sit amet.</button>
    </h2>
    <div class="ac-panel">
      <p class="ac-text">Nulla et sodales nisl. Nam auctor quis odio eu congue. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    
      <div class="close-accordion" id="close-acc">Close This Accordion</div>
    </div>
  </div>
</div>

<div class="accordion-container-open">
  <div class="ac">
    <h2 class="ac-header">
      <button class="ac-trigger">Lorem ipsum dolor sit amet.</button>
    </h2>
    <div class="ac-panel">
      <p class="ac-text">Nulla et sodales nisl. Nam auctor quis odio eu congue. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    
      <div class="close-accordion" id="close-acc">Close This Accordion</div>
    </div>
  </div>
</div>

<div class="accordion-container-open">
  <div class="ac">
    <h2 class="ac-header">
      <button class="ac-trigger">Lorem ipsum dolor sit amet.</button>
    </h2>
    <div class="ac-panel">
      <p class="ac-text">Nulla et sodales nisl. Nam auctor quis odio eu congue. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    
      <div class="close-accordion" id="close-acc">Close This Accordion</div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/accordion-js@3.1.1/dist/accordion.min.js"></script>

<script>

const containers = Array.from(document.querySelectorAll('.accordion-container'));
const accordion = new Accordion(containers, {
  onOpen: function (element) {
    const closeBtn = element.querySelector("#close-acc");
    closeBtn.onclick = () => {
      //use this
      accordion[element.id.split("-")[1]].close(0);
      //Another option
      //accordion[element.id.split("-")[1]].closeAll();
    };
  },
 });

const containers_open = Array.from(document.querySelectorAll('.accordion-container-open'));
const accordion_open = new Accordion(containers_open, {
   openOnInit: [0],
   onOpen: function (element) {
     const closeBtn = element.querySelector("#close-acc");
     closeBtn.onclick = () => {
       //use this
       accordion_open[element.id.split("-")[1]].close(0);
       //Another option
       //accordion[element.id.split("-")[1]].closeAll();
     };
   },
  });
</script>

</body>
</html>
